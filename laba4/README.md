# Лабораторная работа №4

## **Вариант 1: Зарплата охранника**

Доработайте программу расчёта зарплаты, реализовав:

### 1. **Реализация класса SalaryData (структура данных)**

- Создайте класс для хранения всех параметров расчета зарплаты:

**Свойства:**
- Основные: оклад, количество дней, ночные смены, сверхурочные
- Результаты: премия, штрафы, налог, итоговая сумма
- Дата расчета

- Добавьте метод для красивого вывода информации о расчете

### 2. **Создание класса SalaryCalculator**

- Инкапсулируйте всю логику расчета в этом классе

**Основные методы:**
- Расчет зарплаты с учетом всех параметров
- Применение премий за стаж
- Вычет штрафов
- Расчет налогов

- Реализуйте историю расчетов как список объектов SalaryData

### 3. **Новый функционал:**
- Сравнение двух расчетов с выводом различий

**Требования к реализации:**

**Обязательные элементы:**
- Минимум 2 класса: для хранения данных и для расчетов
- Разделение ответственности между классами
- Использование свойств вместо публичных полей

**Принципы ООП:**
- Инкапсуляция данных
- Четкое разделение логики
- Методы должны выполнять одну конкретную задачу

**Пример работы программы:**

```
=== Система расчета зарплаты (ООП) ===

1. Новый расчет
2. История расчетов
3. Сравнить расчеты
4. Статистика
5. Выйти

Выберите действие: 3

Выберите первый расчет (1-10): 2
Выберите второй расчет (1-10): 5

=== Результаты сравнения ===

Расчет от 15.05.2023: 28 450 руб.
Расчет от 20.06.2023: 31 200 руб.

Разница:
- Оклад: +2 000 руб.
- Премия: +750 руб.
- Итоговая разница: +2 750 руб. (+9.7%)
```

---

## **Вариант 2: Калькулятор кредита**

Доработайте программу расчёта кредита, реализовав:

### 1. **Реализация класса CreditData (структура данных)**

- Создайте класс для хранения параметров кредита:

**Свойства:**
- Основные: сумма, ставка, срок, тип платежа
- Результаты: ежемесячный платеж, переплата, общая сумма
- Дата расчета
- Дополнительные параметры (наличие льгот, штрафы)

- Добавьте метод для форматированного вывода информации о кредите

### 2. **Создание класса CreditCalculator**

- Инкапсулируйте логику расчета кредита

**Основные методы:**
- Расчет аннуитетных платежей
- Расчет дифференцированных платежей
- Расчет переплаты
- Учет льгот и штрафов

- Реализуйте историю расчетов как коллекцию объектов CreditData

### 3. **Новый функционал:**
- Сравнение условий разных кредитов

**Требования к реализации:**

**Обязательные элементы:**
- Минимум 2 класса: для хранения данных и для расчетов
- Использование свойств и методов
- Поддержка двух типов платежей (аннуитетный/дифференцированный)

**Принципы ООП:**
- Инкапсуляция данных расчета
- Разделение логики расчета и вывода результатов
- Возможность расширения функционала

**Пример работы программы:**

```
=== Кредитный калькулятор (ООП) ===

1. Новый расчет
2. История расчетов
3. Сравнить кредиты
4. Анализ ставок
5. Выйти

Выберите действие: 3

Выберите первый кредит (1-10): 3
Выберите второй кредит (1-10): 7

=== Сравнение кредитов ===

Кредит от 10.05.2023:
- Сумма: 500 000 руб. под 15% на 5 лет
- Переплата: 225 000 руб. (45%)

Кредит от 20.06.2023:
- Сумма: 300 000 руб. под 12% на 3 лет
- Переплата: 72 000 руб. (24%)

Экономия: 153 000 руб. при выборе второго варианта
```

---

## **Вариант 3: Стоимость поездки**

Доработайте программу расчёта стоимости поездки, реализовав:

### 1. **Реализация класса TripData (структура данных)**

**Свойства:**
- `Distance` (double) - расстояние поездки в км
- `VehicleType` (string) - тип транспорта ("легковой", "грузовик", "мотоцикл")
- `Season` (string) - сезон ("лето", "зима")
- `FuelPrice` (double) - цена топлива за литр
- `TotalCost` (double) - общая стоимость поездки
- `CalculationDate` (DateTime) - дата расчета

**Методы:**
- `CalculateCost()` - вычисление стоимости поездки
- `PrintInfo()` - форматированный вывод информации о поездке

### 2. **Создание класса TripCalculator**

**Поля:**
- `trips` (TripData[]) - массив для хранения последних 10 поездок
- `currentIndex` - текущий индекс в массиве

**Основные методы:**
- `AddTrip()` - добавление новой поездки с валидацией данных
- `CalculateFuelConsumption()` - расчет расхода топлива
- `ApplySeasonalCoefficient()` - применение сезонного коэффициента
- `ShowTripHistory()` - вывод истории поездок
- `AnalyzeTrips()` - анализ статистики поездок

### 3. **Новый функционал:**
- Сравнение эффективности разных видов транспорта
- Расчет средней стоимости 1 км пробега
- Поиск самой экономичной/затратной поездки

**Требования к реализации:**

**Обязательные элементы:**
- Использование двух классов (TripData и TripCalculator)
- Применение массива для хранения истории
- Поддержка разных типов транспорта и сезонов
- Валидация входных данных через TryParse

**Принципы ООП:**
- Инкапсуляция данных поездки
- Разделение логики расчета и вывода результатов
- Реализация единой точки входа для расчетов

**Пример работы программы:**

```
=== Калькулятор поездки (ООП) ===

1. Добавить поездку
2. Показать историю
3. Анализ расходов
4. Сравнить транспорт
5. Выйти

Выберите действие: 3

=== Анализ расходов ===

Всего поездок: 8
Средняя стоимость: 1 850 руб.
Самый экономичный транспорт: мотоцикл (0.8 руб/км)
Самый затратный месяц: январь (+25% к среднему)
```

---

## **Вариант 4: Индекс массы тела**

Доработайте программу расчёта ИМТ, реализовав:

### 1. **Реализация класса BmiMeasurement (структура данных)**

**Свойства:**
- `Weight` (double) - вес в кг (30-300)
- `Height` (double) - рост в метрах (1.0-2.5)
- `Gender` (string) - пол ("м"/"ж")
- `Age` (int) - возраст (1-120)
- `BmiValue` (double) - рассчитанный ИМТ
- `Category` (string) - категория ("норма", "ожирение" и т.д.)
- `MeasurementDate` (DateTime) - дата замера

**Методы:**
- `CalculateBmi()` - вычисление ИМТ
- `DetermineCategory()` - определение категории
- `PrintReport()` - форматированный вывод данных

### 2. **Создание класса BmiAnalyzer**

**Поля:**
- `measurements` (BmiMeasurement[]) - массив последних 10 замеров
- `currentIndex` - текущая позиция в массиве

**Основные методы:**
- `AddMeasurement()` - добавление нового замера
- `ShowHistory()` - вывод истории измерений
- `AnalyzeTrends()` - анализ динамики ИМТ
- `CompareMeasurements()` - сравнение двух замеров

### 3. **Новый функционал:**
- График изменения ИМТ за период

**Пример работы программы:**

```
=== Анализатор ИМТ (ООП) ===

1. Новый замер
2. История измерений
3. Анализ динамики
4. Выйти

Выберите действие: 3

=== Динамика показателей ===

Период: 01.01.2023 - 01.06.2023
Изменение ИМТ: +1.2 (22.8 → 24.0)
```

**Требования к реализации:**

**Обязательные элементы:**
- 2 класса: BmiMeasurement и BmiAnalyzer
- Массив для хранения истории замеров
- Поддержка разных возрастных групп
- Валидация входных данных

**Принципы ООП:**
- Инкапсуляция данных измерения
- Разделение логики анализа и вывода
- Расширяемость функционала

---

## **Вариант 5: Коммунальные услуги**

Доработайте программу расчёта коммунальных платежей, реализовав:

### 1. **Реализация класса UtilityPayment (структура данных)**

**Свойства:**
- `WaterConsumption` (double) - расход воды (м³)
- `GasConsumption` (double) - расход газа (м³)
- `ElectricityConsumption` (double) - расход электроэнергии (кВт·ч)
- `PaymentDate` (DateTime) - дата платежа
- `TotalAmount` (double) - общая сумма
- `HasDiscount` (bool) - наличие льгот
- `HasPenalty` (bool) - наличие штрафов

**Методы:**
- `CalculateTotal()` - расчет итоговой суммы
- `ApplyDiscount()` - применение льгот
- `ApplyPenalty()` - начисление штрафов
- `PrintReceipt()` - печать квитанции

### 2. **Создание класса UtilityCalculator**

**Поля:**
- `payments` (UtilityPayment[]) - массив последних 6 платежей
- `currentIndex` - текущий индекс в массиве
- `tariffRates` - тарифы на услуги

**Основные методы:**
- `AddPayment()` - добавление нового платежа
- `ShowHistory()` - вывод истории платежей
- `AnalyzeConsumption()` - анализ потребления
- `ComparePeriods()` - сравнение периодов

### 3. **Новый функционал:**
- График потребления ресурсов

**Пример работы программы:**

```
=== Учет коммунальных платежей ===

1. Добавить платеж
2. История платежей
3. Анализ потребления
4. Сравнить периоды
5. Настройки тарифов
6. Выйти

Выберите действие: 3

=== Анализ за последние 6 месяцев ===

Вода:
█▄ 15.2 м³ (▼10%)

Газ:
██▄ 32.5 м³ (▲5%)

Электричество:
███ 210 кВт·ч (→)

Самый экономичный месяц: Март (2450 руб)
Рекомендация: установить счетчики воды
```

**Требования к реализации:**

**Обязательные элементы:**
- 2 класса: UtilityPayment и UtilityCalculator
- Массив для хранения истории платежей
- Поддержка льгот и штрафов
- Валидация входных данных

**Принципы ООП:**
- Инкапсуляция данных платежа
- Разделение логики расчета и вывода
- Возможность расширения функционала